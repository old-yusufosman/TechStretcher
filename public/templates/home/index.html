<section id="middle">
    <div id="write-post-box" ng-click="showContents = true" ng-blur="showContents = false" ng-show="isLoggedIn()">
        <p ng-hide="showContents">Write here...</p>
        <div id="hidden-post-box" ng-show="showContents">
            <form ng-submit="addPost()">
                <div id="box-user-header">
                    <img class="img_circle small" ng-src="/images/yusuf.jpg">
                    <span class="header-name">{{currentUser()}}</span>
                </div>
                        <textarea id="post-box-content" type="text" ng-model="postcontent"
                                  placeholder="What would you like to share?"></textarea><br>
                <div id="write-form-buttons">
                    <button class="btn" type="submit">Submit</button>
                    <button class="btn" type="button">Go Advanced</button>
                </div>
            </form>
        </div>
    </div>

    <div class="box post" ng-repeat="post in posts | orderBy: '-submissiondate'">
        <div class="box-user-header">
            <img class="img_circle small" ng-src="/images/yusuf.jpg">
            <div class="box-top-info">
                <span>{{post.author}}</span>
                <span rel="tooltip" title={{post.submissiondate}}><p class="date">{{post.submissiondate | dateFromNow}}</p></span>
            </div>
        </div>
        <h1 ng-show="{{post.title}}">{{post.title}}</h1>
        <h2 ng-show="{{post.subtitle}}">{{post.subtitle}}</h2>
        <img ng-show="{{post.image}}" class="post_image" ng-src='{{post.image}}'>
        <p>{{post.postcontent}}</p>
        <p>Read more...</p>
        <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementUpvotes(post)"></span>
        <p>upvotes: {{post.upvotes}}</p>
            <span>
              <a href="#/posts/{{post._id}}">Comments</a>
            </span>
    </div>
</section>